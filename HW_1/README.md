Лабораторная работа 1. Усредняющий фильтр Гаусса с переменным размером ядра и 
параметрами гауссианы. 

Выполнили: Лабуткин Иван Алексеевич, Константинов Александр Александрович, группа 4144.

1) Теоретическая база

Усредняющий фильтр Гаусса используется для подавления шума в изображении, что визуально проявляется в размытии изображения.
Данный фильтр представляет собой ядро с переменным размером, которое проходит по изображению, считая сумму произведений коэффициентов ядра и значений пикселей изображения.
Значения коэффициентов ядра в двумерном случае рассчитываются следующим образом:

$$ f(x) = \frac{1}{{2\pi\sigma^2}} e^{-\frac{(x+y)^2}{2\sigma^2}} $$

, где x и y - расстояние от конкретной ячейки до центра ядра по горизонтали и вертикали соответственно, а sigma - задаваемый параметр гауссианы.

2) Описание архитектуры

В рамках реализованного алгоритма был реализован класс GaussianFilter, содержащий в себе 2 функции: _init_weights_matrix (Инициализация коэффициентов ядра) и transform (Сглаживание картинки).
Первая функция принимает на вход размер ядра и значение гауссианы. Она инициализирует веса матрицы, находя по отдельности расстояния по горизонтали и по вертикали и преобразуя их по формуле из п.1, после чего перемножая эти расстояния по свойству степеней.
Вторая функция принимает на вход картинку, размер ядра и значение гауссианы. Сначала она вызывает первую функцию, создавая ядро с нужными параметрами, потом читает и преобразует в необходимый для дальнейших вычислений вид изображение, далее с помощью функции im2col разворачивает ядро и картинку в столбец, чтобы для получения окончательного результата их можно было просто перемножить. После перемножения результат обратно сворачивается в картинку и подаётся на выход.
Оставшаяся часть кода реализует эти функции и выводит получившиеся картинки.

 3) Результаты работы и тестирования системы

Для тестирования алгоритма были рассмотрены 2 картинки: с высоким и низким разрешением. Для каждой из картинок был применён данный алгоритм с различными параметрами гауссианы: 3, 5 и 10. Для картинки с низким качеством было применено ядро 11x11, а для картинки с высоким - 25x25, поскольку в рамках тестирования было выяснено, что для картинок с высоким качеством ядра маленького размера плохо выполняют свою функцию. 
Результат работы для картинки с высоким качеством:
![dog_result](https://github.com/user-attachments/assets/49328388-dbfe-435b-b435-78e0f456d2ac)
Результат работы для картинки с низким качеством:
![smile_result](https://github.com/user-attachments/assets/0a98e702-237d-4377-ae98-a8ac5f23cd46)

Стоит заметить, что увеличение значения гауссианы больше 10 (даже многократно) не будет сильно влиять на итоговый результат.
Эталонная реализация алгоритма показала такие же результаты (пример для std=10):

![smile_etalon](https://github.com/user-attachments/assets/15932ad4-1f6c-4d0d-822a-65bc2e056462)


Однако, время реализации эталонного алгоритма намного меньше, чем написанного. Так, на картинке с низким качеством эталонный алгоритм отрабатывал чуть меньше 1 миллисекунды, а написанный вручную работал 447 миллисекунд. На картинке с высоким качеством эталонный алгоритм отрабатывал также меньше 1 миллисекунды, а написанный - 7.2 секунды.

Такая большая разница во времени может быть связана с более оптимальным написанием кода (в том числе и на низкоуровневых языках) в библиотеках с эталонными реализациями.

4) Выводы по работе

Таким образом, в результате лабораторной работы был успешно разработан и протестирован усредняющий фильтр Гаусса с переменным размером ядра и 
параметрами гауссианы. Результаты работы написанного алгоритма совпали с эталонной реализацией, разница возникла лишь во времени их работы.

5) Источники:

https://dspace.spbu.ru/bitstream/11701/4330/1/Diplom_4_0.pdf - алгоритм

https://iq.opengenus.org/im2col/ - функция im2col
